# Railway Configuration File
# https://docs.railway.app/deploy/config-as-code

[build]
# Use Docker builder (Dockerfile present)
builder = "DOCKERFILE"
dockerfilePath = "Dockerfile"

# Watch patterns for rebuilds
watchPatterns = [
  "**/*.ts",
  "**/*.tsx",
  "**/*.js",
  "**/*.jsx",
  "package.json",
  "yarn.lock",
  "Dockerfile"
]

[deploy]
# Port configuration (Railway sets this automatically)
# Your app should listen on $PORT environment variable
numReplicas = 1

# Restart policy
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

# Health check configuration for Docker deployments
# Railway will check this path to determine if the service is healthy
healthcheckPath = "/"
healthcheckTimeout = 300

[env]
# Environment variables template
# Set actual values in Railway dashboard
# NEXT_PUBLIC_SUPABASE_URL = "https://your-project.supabase.co"
# NEXT_PUBLIC_SUPABASE_ANON_KEY = "your-anon-key"
# NEXT_PUBLIC_SITE_URL = "${{RAILWAY_PUBLIC_DOMAIN}}"

# Node.js configuration
NODE_ENV = "production"
NEXT_TELEMETRY_DISABLED = "1"
